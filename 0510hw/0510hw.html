<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        // function ajax(src, callback){
        // // your code here
        //     var xhr = new XMLHttpRequest();
        //     xhr.onreadystatechange = function () {
        //         if (xhr.readyState === 4){
        //             var value = JSON.parse(xhr.responseText);
        //             // console.log(name);
        //             // function(){
        //             //     callback(value);
        //             // }       
        //             callback(value)
        //         }
        //     };
        //     xhr.open('GET',src);
        //     xhr.send();
        // }
        // function render(data){
        // // your code here.
        //     for (let i=0; i<data.length; i++) {
        //         var newDiv = document.createElement("div");
        //         var newContent = document.createTextNode(`${data[i].name} : $${data[i].price} -> ${data[i].description}`);
        //         newDiv.appendChild(newContent);
        //         document.body.appendChild(newDiv);
        //     }
        //     console.log(data);
        // }   
        // ajax("https://cwpeng.github.io/live-records-samples/data/products.json", function(response){render(response);}); â€‹
        // // you should get product information in JSON format and render data in the page
        function ajax(src, callback) {
            var xhr=new XMLHttpRequest();
            xhr.onreadystatechange = function() {
                if (xhr.readyState == 4 && xhr.status == 200) {
                callback(xhr);
                }
            };
            xhr.open("GET", src);
            xhr.send();
        }
        function render(data) {
            var value = JSON.parse(data.responseText);
            for (let i=0; i<value.length; i++) {
                var newDiv = document.createElement("div");
                var newContent = document.createTextNode(`${value[i].name} : $${value[i].price} -> ${value[i].description}`);
                newDiv.appendChild(newContent);
                document.body.appendChild(newDiv);
            }
            // console.log(value)
        }
        ajax('https://cwpeng.github.io/live-records-samples/data/products.json', function(response){render(response);});
    // --------------------------
        function delayedResult(n1, n2, delayTime, callback){
            // your code here
            window.setTimeout(function(){callback(n1+n2)},delayTime);
        }
        delayedResult(4, 5, 3000, function(result){console.log(result);});
        delayedResult(-5, 10, 2000, function(result){window.alert(result);});

    
    
    </script>
</body>
</html>